import{d as O,q as P,v as q,a as m,c as r,r as y,s as D,G,x as E,e as k,f as o,w as c,o as s,i as a,u as e,z as I,h,A as J,F as b,B as M,S as C,C as Q,g as d,I as p,O as Y,J as Z,P as $,L as j,M as K,T as W,U as X,Y as ee,k as se,Z as te}from"./index-4468920c.js";import{u as oe}from"./usePageTitle-74c1d73f.js";const ne={class:"flow-runs__list"},le={class:"flow-runs__list-controls"},ae={class:"flow-runs__list-controls--right"},ie=O({__name:"FlowRuns",setup(ue){const F=P(),i=q(),_=m(i.flowRuns.getFlowRunsCount,[{}]),g=r(()=>_.executed),S=r(()=>_.response===0),f=y(),V=D(f,1200),{filter:t,isCustomFilter:x}=G({flowRuns:{nameLike:V}}),w={interval:3e4},R=m(i.flowRuns.getFlowRunsCount,[t],w),B=r(()=>R.response),N=m(i.ui.getFlowRunHistory,[t],w),T=r(()=>N.response??[]),{flowRuns:v,subscription:L}=E(t),n=y([]);function U(){F.push(te.flowRuns())}const z=()=>{n.value=[],L.refresh(),R.refresh()};return oe("Flow Runs"),(re,l)=>{const A=k("p-button"),H=k("p-layout-default");return s(),o(H,{class:"flow-runs"},{header:c(()=>[a(e(I))]),default:c(()=>[g.value?(s(),h(b,{key:0},[S.value?(s(),o(e(J),{key:0})):(s(),h(b,{key:1},[a(e(M)),e(C).md?(s(),o(e(Q),{key:0,history:T.value,"start-date":e(t).flowRuns.expectedStartTimeAfter,"end-date":e(t).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):d("",!0),p("div",ne,[p("div",le,[p("div",ae,[n.value.length==0?(s(),o(e(Y),{key:0,count:B.value,label:"Flow run"},null,8,["count"])):(s(),o(e(Z),{key:1,count:n.value.length},null,8,["count"])),a(e($),{selected:n.value,onDelete:z},null,8,["selected"])]),e(C).md?(s(),o(e(j),{key:0,modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=u=>f.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),a(e(K),{modelValue:e(t).sort,"onUpdate:modelValue":l[1]||(l[1]=u=>e(t).sort=u)},null,8,["modelValue"])]),a(e(W),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=u=>n.value=u),selectable:"","flow-runs":e(v)},null,8,["selected","flow-runs"]),e(v).length?d("",!0):(s(),o(e(X),{key:0},ee({_:2},[e(x)?{name:"actions",fn:c(()=>[a(A,{size:"sm",secondary:"",onClick:U},{default:c(()=>[se(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{ie as default};
