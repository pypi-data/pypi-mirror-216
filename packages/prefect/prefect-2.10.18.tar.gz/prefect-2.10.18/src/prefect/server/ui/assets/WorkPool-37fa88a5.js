import{d as S,v as E,E as T,bx as U,a as Y,c as t,S as z,b as A,ar as O,e as s,f as k,w as l,g as w,o as m,i as a,u as e,by as V,bz as d,aw as q,bA as D,bB as F,l as K}from"./index-4468920c.js";import{u as Q}from"./usePageTitle-74c1d73f.js";const I=S({__name:"WorkPool",setup(j){const f=E(),n=T("workPoolName"),v=U(),_={interval:3e5},p=Y(f.workPools.getWorkPoolByName,[n.value],_),o=t(()=>p.response),u=t(()=>{var r;return((r=o.value)==null?void 0:r.type)==="prefect-agent"}),b=t(()=>[{label:"Details",hidden:z.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!v.access.workers||u.value}]),{tab:c,tabs:P}=A(b),y=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),g=t(()=>{var r;return`prefect ${u.value?"agent":"worker"} start --pool ${(r=o.value)==null?void 0:r.name}`}),B=t(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:C}=O({workPools:{name:[n.value]}}),W=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return Q(W),(r,i)=>{const h=s("CodeBanner"),$=s("p-tabs"),x=s("p-layout-well"),N=s("p-layout-default");return o.value?(m(),k(N,{key:0},{header:l(()=>[a(e(V),{"work-pool":o.value,onUpdate:e(p).refresh},null,8,["work-pool","onUpdate"])]),default:l(()=>[o.value?(m(),k(x,{key:0,class:"work-pool"},{header:l(()=>[a(h,{command:g.value,title:y.value,subtitle:B.value},null,8,["command","title","subtitle"])]),well:l(()=>[a(e(d),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:l(()=>[a($,{selected:e(c),"onUpdate:selected":i[0]||(i[0]=R=>K(c)?c.value=R:null),tabs:e(P)},{details:l(()=>[a(e(d),{"work-pool":o.value},null,8,["work-pool"])]),runs:l(()=>[a(e(q),{"flow-run-filter":e(C)},null,8,["flow-run-filter"])]),"work-queues":l(()=>[a(e(D),{"work-pool-name":e(n)},null,8,["work-pool-name"])]),workers:l(()=>[a(e(F),{"work-pool-name":e(n)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):w("",!0)]),_:1})):w("",!0)}}});export{I as default};
