import{d as E,E as I,c as r,q as N,v as S,a as B,S as R,b as P,ar as Q,a5 as V,e as d,f as o,w as a,o as l,u as t,az as j,g as i,aA as y,i as u,aB as q,aC as z,aD as A,aE as F,ag as J,aw as K,Z as M,n as W}from"./index-4468920c.js";import{u as Z}from"./useToast-1e07ac4c.js";import{u as $}from"./usePageTitle-74c1d73f.js";const Y=E({__name:"Deployment",setup(G){const c=I("deploymentId"),v=r(()=>[c.value]),_=N(),f=S(),h=Z(),b={interval:3e5},p=B(f.deployments.getDeployment,[c.value],b),e=r(()=>p.response),g=r(()=>{var n,s;return[{label:"Details",hidden:R.xl},{label:"Runs"},{label:"Parameters",hidden:(n=e.value)==null?void 0:n.deprecated},{label:"Infra Overrides",hidden:(s=e.value)==null?void 0:s.deprecated},{label:"Description"}]}),{tabs:w}=P(g);function k(){_.push(M.deployments())}const m=r(()=>{var n;return(n=e.value)!=null&&n.infrastructureOverrides?JSON.stringify(e.value.infrastructureOverrides,void 0,2):"{}"}),{filter:D}=Q({deployments:{id:v}}),x=r(()=>e.value?`Deployment: ${e.value.name}`:"Deployment");return $(x),V(e,()=>{var n,s;!((n=e.value)!=null&&n.workQueueName)&&!((s=e.value)!=null&&s.deprecated)&&h(W.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(n,s)=>{const U=d("p-content"),O=d("p-code-highlight"),C=d("p-tabs"),T=d("p-layout-well");return l(),o(T,{class:"deployment"},{header:a(()=>[e.value?(l(),o(t(j),{key:0,deployment:e.value,onUpdate:t(p).refresh,onDelete:k},null,8,["deployment","onUpdate"])):i("",!0)]),well:a(()=>[e.value?(l(),o(t(y),{key:0,deployment:e.value,alternate:"",onUpdate:t(p).refresh},null,8,["deployment","onUpdate"])):i("",!0)]),default:a(()=>[e.value?(l(),o(C,{key:0,tabs:t(w)},{description:a(()=>[u(U,{secondary:""},{default:a(()=>[e.value.deprecated?(l(),o(t(q),{key:0})):e.value.description?(l(),o(t(z),{key:1,description:e.value.description},null,8,["description"])):(l(),o(t(A),{key:2,deployment:e.value},null,8,["deployment"]))]),_:1})]),parameters:a(()=>[u(t(F),{deployment:e.value},null,8,["deployment"])]),"infra-overrides":a(()=>[e.value?(l(),o(t(J),{key:0,"text-to-copy":m.value},{default:a(()=>[u(O,{lang:"json",text:m.value,class:"deployment__infra-overrides"},null,8,["text"])]),_:1},8,["text-to-copy"])):i("",!0)]),details:a(()=>[u(t(y),{deployment:e.value,onUpdate:t(p).refresh},null,8,["deployment","onUpdate"])]),runs:a(()=>[u(t(K),{"flow-run-filter":t(D)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):i("",!0)]),_:1})}}});export{Y as default};
