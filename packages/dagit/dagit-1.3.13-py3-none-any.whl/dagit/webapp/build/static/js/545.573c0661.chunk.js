(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[545],{50545:function(t,n,e){"use strict";e.r(n),e.d(n,{ASSET_LINK_NAME_MAX_LENGTH:function(){return h},ASSET_NODE_NAME_MAX_LENGTH:function(){return y},extendBounds:function(){return p},getAssetLinkDimensions:function(){return c},getAssetNodeDimensions:function(){return l},layoutAssetGraph:function(){return d},padBounds:function(){return g}});var r=e(96234),i=e(41361),o=e(83975),u=e(276),a=e.n(u),f=100,s="group__",d=function(t){var n=new o.graphlib.Graph({compound:!0});n.setGraph({rankdir:"TB",marginx:f,marginy:f,nodesep:40,edgesep:10,ranksep:10}),n.setDefaultEdgeLabel((function(){return{}}));var e,u=function(t){return[s,t.definition.repository.location.name,t.definition.repository.name,t.definition.groupName].join("__")},d=function(t){return t},h=Object.values(t.nodes).filter(d),y={},v=(0,i.Z)(h);try{for(v.s();!(e=v.n()).done;){var b=e.value;if(b.definition.groupName){var m=u(b);y[m]={id:m,groupName:b.definition.groupName,repositoryName:b.definition.repository.name,repositoryLocationName:b.definition.repository.location.name,repositoryDisambiguationRequired:!1,bounds:{x:0,y:0,width:0,height:0}}}}}catch(T){v.e(T)}finally{v.f()}var w=Object.keys(y).length>1;w&&Object.keys(y).forEach((function(t){return n.setNode(t,{})})),h.forEach((function(t){n.setNode(t.id,l(t.definition)),w&&t.definition.groupName&&n.setParent(t.id,u(t))}));var x={};Object.entries(t.downstream).forEach((function(e){var i=(0,r.Z)(e,2),o=i[0],u=i[1];Object.keys(u).forEach((function(e){(t.nodes[e]||t.nodes[o])&&(n.setEdge({v:o,w:e},{weight:1}),t.nodes[e]?t.nodes[o]||(x[o]=!0):x[e]=!0)}))})),Object.keys(x).forEach((function(t){n.setNode(t,c())})),o.layout(n);var _=0,N=0,E={};if(n.nodes().forEach((function(t){var e=n.node(t);if(e){var r={x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height};t.startsWith(s)||(E[t]={id:t,bounds:r}),_=Math.max(_,e.x+e.width/2),N=Math.max(N,e.y+e.height/2)}})),w){var O,j=(0,i.Z)(h);try{for(j.s();!(O=j.n()).done;){var k=O.value;if(k.definition.groupName){var A=y[u(k)];A.bounds=0===A.bounds.width?E[k.id].bounds:p(A.bounds,E[k.id].bounds)}}}catch(T){j.e(T)}finally{j.f()}for(var M=0,S=Object.values(y);M<S.length;M++){var D=S[M];D.bounds=g(D.bounds,{x:15,top:70,bottom:-10})}}Object.values(a()(Object.values(y),(function(t){return t.groupName}))).filter((function(t){return t.length>1})).flat().forEach((function(t){t.bounds.y-=18,t.bounds.height+=18,t.repositoryDisambiguationRequired=!0}));var L=[];return n.edges().forEach((function(t){var e=n.node(t.v),r=x[t.v]?16:24,i=n.node(t.w),o=x[t.w]?16:24;L.push({from:{x:e.x-e.width/2+r,y:e.y-30+e.height/2},fromId:t.v,to:{x:i.x-i.width/2+o,y:i.y+20-i.height/2},toId:t.w})})),{nodes:E,edges:L,width:_+f,height:N+f,groups:w?y:{}}},h=10,c=function(){return{width:106,height:90}},g=function(t,n){return{x:t.x-n.x,y:t.y-n.top,width:t.width+2*n.x,height:t.height+n.top+n.bottom}},p=function(t,n){var e=Math.min(t.x,n.x),r=Math.min(t.y,n.y);return{x:e,y:r,width:Math.max(t.x+t.width,n.x+n.width)-e,height:Math.max(t.y+t.height,n.y+n.height)-r}},y=28,l=function(t){if(t.isSource&&!t.isObservable)return{width:265,height:102};var n=100;return t.isPartitioned&&(n+=40),t.isSource?n+=30:n+=26,{width:265,height:n+=30}}},26257:function(t){t.exports=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];n(r,u,e(u),t)}return r}},84152:function(t,n,e){var r=e(5038);t.exports=function(t,n,e,i){return r(t,(function(t,r,o){n(i,t,e(t),o)})),i}},93348:function(t,n,e){var r=e(26257),i=e(84152),o=e(39095),u=e(59557);t.exports=function(t,n){return function(e,a){var f=u(e)?r:i,s=n?n():{};return f(e,t,o(a,2),s)}}},276:function(t,n,e){var r=e(56797),i=e(93348),o=Object.prototype.hasOwnProperty,u=i((function(t,n,e){o.call(t,e)?t[e].push(n):r(t,e,[n])}));t.exports=u},41361:function(t,n,e){"use strict";e.d(n,{Z:function(){return i}});var r=e(59147);function i(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=(0,r.Z)(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){f=!0,u=t},f:function(){try{a||null==e.return||e.return()}finally{if(f)throw u}}}}}}]);
//# sourceMappingURL=545.573c0661.chunk.js.map