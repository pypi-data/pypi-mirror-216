
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main &#8212; BCI-Framework  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favico.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main</h1><div class="highlight"><pre>
<span></span>&quot;&quot;&quot;
===========================
Visuospatial working memory
===========================

&quot;&quot;&quot;

from bci_framework.extensions.stimuli_delivery import StimuliAPI
from bci_framework.extensions.stimuli_delivery.utils import keypress
from bci_framework.extensions.stimuli_delivery.utils import Widgets as w
from bci_framework.extensions.stimuli_delivery.utils import Tone as t
from bci_framework.extensions.stimuli_delivery.utils import Units as u

from browser import document, timer, html, window
from points import get_points

import time
import random
from typing import Literal
import logging

COLORS = [
    &#39;#ff0000&#39;,
    &#39;#0000ff&#39;,
    &#39;#ff00ff&#39;,
    &#39;#00ff00&#39;,
    &#39;#ffff00&#39;,
    &#39;#ffffff&#39;,
    &#39;#000000&#39;,
]

UNICODE_CUES = {
    &#39;Right&#39;: &#39;arrow-right-short&#39;,
    &#39;Left&#39;: &#39;arrow-left-short&#39;,
}


########################################################################
<div class="viewcode-block" id="VisuospatialWorkingMemory"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory">[docs]</a>class VisuospatialWorkingMemory(StimuliAPI):
    &quot;&quot;&quot;Visual working memory: change detection task.&quot;&quot;&quot;

    # ----------------------------------------------------------------------
    def __init__(self, *args, **kwargs):
        &quot;&quot;&quot;&quot;&quot;&quot;
        super().__init__(*args, **kwargs)
        self.add_stylesheet(&#39;styles.css&#39;)
        self.build_areas()
        self.show_cross()

        self.dashboard &lt;= w.label(
            &#39;Visuospatial working memory - Change detection task&#39;, &#39;headline4&#39;)
        self.dashboard &lt;= html.BR()

        self.dashboard &lt;= w.subject_information(paradigm=&#39;Visuospatial working memory - Change detection task&#39;)

        # Markers
        self.dashboard &lt;= w.label(&#39;Squares&#39;, &#39;headline4&#39;)
        self.dashboard &lt;= w.slider(
            label=&#39;Squares size:&#39;,
            min=0.1,
            max=5,
            step=0.01,
            value=1.17,
            unit=&#39;dva&#39;,
            id=&#39;size&#39;
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Minimum distance between Squares:&#39;,
            min=1,
            max=10,
            step=0.01,
            value=3.5,
            unit=&#39;dva&#39;,
            id=&#39;distance&#39;
        )

        # Intervals
        self.dashboard &lt;= w.label(&#39;Intervals&#39;, &#39;headline4&#39;)
        self.dashboard &lt;= w.slider(
            label=&#39;Inter trial break:&#39;,
            min=0,
            max=3000,
            value=2000,
            unit=&#39;ms&#39;,
            id=&#39;break&#39;,
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Arrow cue:&#39;,
            min=100,
            max=1000,
            value=200,
            unit=&#39;ms&#39;,
            id=&#39;cue&#39;,
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Memory array:&#39;,
            min=50,
            max=500,
            value=100,
            unit=&#39;ms&#39;,
            id=&#39;memory_array&#39;,
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Retention interval:&#39;,
            min=500,
            max=1500,
            value=900,
            unit=&#39;ms&#39;,
            id=&#39;retention&#39;
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Test array:&#39;,
            min=500,
            max=5000,
            value=2000,
            unit=&#39;ms&#39;,
            id=&#39;test_array&#39;

        )

        # Trial
        self.dashboard &lt;= w.label(&#39;Trial&#39;, &#39;headline4&#39;)
        self.dashboard &lt;= w.checkbox(
            label=&#39;Task level:&#39;,
            options=[[f&#39;{i} squares&#39;, i in [1, 2, 4]] for i in range(1, 7)],
            on_change=None,
            id=&#39;task_level&#39;,
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Numbers of trials per level:&#39;,
            min=1,
            max=500,
            value=100,
            discrete=True,
            markers=True,
            id=&#39;trials&#39;
        )

        # Presentation
        self.dashboard &lt;= w.label(&#39;Presentation&#39;, &#39;headline4&#39;)
        self.dashboard &lt;= w.slider(
            label=&#39;Distance from monitor:&#39;,
            min=0.1,
            max=3,
            step=0.01,
            value=0.3,
            unit=&#39;m&#39;,
            id=&#39;d&#39;
        )
        self.dashboard &lt;= w.slider(
            label=&#39;Monitor DPI:&#39;,
            min=1,
            max=450,
            step=1,
            value=141,
            unit=&#39;dpi&#39;,
            id=&#39;dpi&#39;
        )

        self.dashboard &lt;= w.switch(
            label=&#39;Record EEG&#39;,
            checked=False,
            id=&#39;record&#39;,
        )
        self.dashboard &lt;= w.switch(
            label=&#39;External marker synchronizer&#39;,
            checked=False,
            on_change=self.synchronizer,
            # id=&#39;record&#39;,
        )
        self.dashboard &lt;= w.switch(
            label=&#39;Dummy mode&#39;,
            checked=False,
            id=&#39;dummy&#39;,
        )

        self.dashboard &lt;= w.button(&#39;Test shapes&#39;, on_click=self.test_shapes)
        self.dashboard &lt;= w.toggle_button(
            [(&#39;Start run&#39;, self.start), (&#39;Stop run&#39;, self.stop)], id=&#39;run&#39;)
        self.dashboard &lt;= w.toggle_button([(&#39;Start marker synchronization&#39;, self.start_marker_synchronization), (
            &#39;Stop marker synchronization&#39;, self.start_marker_synchronization)], id=&#39;sync&#39;)

    # ----------------------------------------------------------------------

<div class="viewcode-block" id="VisuospatialWorkingMemory.test_shapes"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.test_shapes">[docs]</a>    def test_shapes(self) -&gt; None:
        &quot;&quot;&quot;Preview the size and distribution of the squares.&quot;&quot;&quot;
        self.clear()
        keypress(self.handle_response)
        u(d=w.get_value(&#39;d&#39;), dpi=w.get_value(&#39;dpi&#39;))
        self.build_squares_area()
        self.soa(cue=&#39;Right&#39;, shapes=4, change=True)
        self.memory_array(cue=&#39;Right&#39;, shapes=4, change=True)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.start"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.start">[docs]</a>    def start(self):
        &quot;&quot;&quot;Start the run.

        A run consist in a consecutive trials execution.
        &quot;&quot;&quot;
        if w.get_value(&#39;record&#39;):
            self.start_record()

        self.build_trials()
        self.show_counter(5)
        timer.set_timeout(self.start_run, 5000)</div>

    # ----------------------------------------------------------------------
    def start_run(self):
        &quot;&quot;&quot;&quot;&quot;&quot;
        self.run_pipeline(self.pipeline_trial,
                          self.trials, callback=&#39;stop_run&#39;)

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.stop"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.stop">[docs]</a>    def stop(self):
        &quot;&quot;&quot;Stop pipeline execution.&quot;&quot;&quot;
        self.stop_pipeline()</div>

    # ----------------------------------------------------------------------
    def stop_run(self):
        &quot;&quot;&quot;&quot;&quot;&quot;
        self.clear()
        w.get_value(&#39;run&#39;).off()
        if w.get_value(&#39;record&#39;):
            timer.set_timeout(self.stop_record, 2000)

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.build_trials"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.build_trials">[docs]</a>    def build_trials(self) -&gt; None:
        &quot;&quot;&quot;Define the `trials` and `pipeline trials`.

        The `trials` consist (in this case) in a list of cues.
        The `pipeline trials` is a set of couples `(callable, duration)` that
        define a single trial, this list of functions are executed asynchronously
        and repeated for each trial.
        &quot;&quot;&quot;
        levels = [int(v[:1]) for v in w.get_value(&#39;task_level&#39;)]
        trials = levels * w.get_value(&#39;trials&#39;)
        cues = [random.choice([&#39;Right&#39;, &#39;Left&#39;]) for _ in trials]
        changes = [random.choice([0, 1]) for _ in trials]

        trials = list(zip(trials, cues, changes))

        self.trials = [{&#39;cue&#39;: cue,
                        &#39;shapes&#39;: shapes,
                        &#39;change&#39;: bool(change),
                        } for shapes, cue, change in trials]
        random.shuffle(self.trials)

        self.pipeline_trial = [

            [&#39;soa&#39;, w.get_value(&#39;break&#39;)],
            [&#39;cue&#39;, w.get_value(&#39;cue&#39;)],
            [&#39;memory_array&#39;, w.get_value(&#39;memory_array&#39;)],
            [&#39;retention&#39;, w.get_value(&#39;retention&#39;)],
            [&#39;test_array&#39;, w.get_value(&#39;test_array&#39;)],
        ]</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.soa"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.soa">[docs]</a>    def soa(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], shapes: int, change: bool) -&gt; None:
        &quot;&quot;&quot;Stimulus onset asynchronously.&quot;&quot;&quot;
        self.clear()
        u(d=w.get_value(&#39;d&#39;), dpi=w.get_value(&#39;dpi&#39;))
        self.build_squares_area()
        self.build_markers(shapes)
        if change:
            self.prepare_shuffle(cue)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.cue"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.cue">[docs]</a>    def cue(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], shapes: int, change: bool) -&gt; None:
        &quot;&quot;&quot;Show the cue to indicate the hemifield target.&quot;&quot;&quot;
        if not hasattr(self, &#39;cue_placeholder&#39;):
            self.cue_placeholder = html.I(&#39;&#39;, id=&#39;cue&#39;, style={
                &#39;font-size&#39;: u.dva(8),
                &#39;padding-top&#39;: f&#39;calc(50vh - {u.dva(8, scale=1/2)})&#39;,
            })
            self.stimuli_area &lt;= self.cue_placeholder

        self.cue_placeholder.class_name = f&#39;bi bi-{UNICODE_CUES[cue]}&#39;
        self.send_marker(cue, blink=None)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.memory_array"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.memory_array">[docs]</a>    def memory_array(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], shapes: int, change: bool) -&gt; None:
        &quot;&quot;&quot;Show the initial array.&quot;&quot;&quot;
        if hasattr(self, &#39;cue_placeholder&#39;):
            self.cue_placeholder.class_name = &#39;&#39;
        self._set_visible_markers(True)
        self.send_marker(f&#39;{shapes}&#39;)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.retention"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.retention">[docs]</a>    def retention(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], shapes: int, change: bool) -&gt; None:
        &quot;&quot;&quot;Remove the array.&quot;&quot;&quot;
        self.send_marker(&#39;Retention&#39;, blink=None)
        self._set_visible_markers(False)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.test_array"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.test_array">[docs]</a>    def test_array(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], shapes: int, change: bool) -&gt; None:
        &quot;&quot;&quot;Show the array again.&quot;&quot;&quot;

        if change:  # Show an array with differences
            f = self.shuffled_colors
            for i, color in enumerate(f):
                if cue == &#39;Right&#39;:
                    self.markers_r[i][0].style = {&#39;background-color&#39;: color}
                    if w.get_value(&#39;record&#39;):
                        self.markers_r[i][0].style = {
                            &#39;border-radius&#39;: &#39;100%&#39;}

                elif cue == &#39;Left&#39;:
                    self.markers_l[i][0].style = {&#39;background-color&#39;: color}
                    if w.get_value(&#39;record&#39;):
                        self.markers_r[i][0].style = {
                            &#39;border-radius&#39;: &#39;100%&#39;}

        self._set_visible_markers(True)

        if not hasattr(self, &#39;button_different&#39;):
            self.button_different = w.button(&#39;Different (q)&#39;, unelevated=False, outlined=True, on_click=lambda: self.manual_trial(
                &#39;DIFFERENT&#39;), Class=&#39;test-button&#39;, id=&#39;different&#39;)
            self.button_identical = w.button(&#39;Identical (p)&#39;, unelevated=False, outlined=True, on_click=lambda: self.manual_trial(
                &#39;IDENTICAL&#39;), Class=&#39;test-button&#39;, id=&#39;identical&#39;)

            self.stimuli_area &lt;= self.button_different
            self.stimuli_area &lt;= self.button_identical

        self.button_identical.style = {&#39;display&#39;: &#39;block&#39;}
        self.button_different.style = {&#39;display&#39;: &#39;block&#39;}
        keypress(self.handle_response, timeout=w.get_value(&#39;test_array&#39;))
        if change:
            self.send_marker(&#39;Changed&#39;, blink=None)
        else:
            self.send_marker(&#39;No-changed&#39;, blink=None)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.handle_response"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.handle_response">[docs]</a>    def handle_response(self, response: str) -&gt; None:
        &quot;&quot;&quot;Capture the subject keyboard response.&quot;&quot;&quot;
        if self.mode == &#39;stimuli&#39;:
            if response == &#39;q&#39;:
                # print(&quot;DIFFFERENT&quot;)
                self.send_marker(f&#39;Different&#39;, blink=None)
            elif response == &#39;p&#39;:
                # print(&quot;IDENTICAL&quot;)
                self.send_marker(f&#39;Identical&#39;, blink=None)
            else:
                self.send_marker(f&#39;No-response&#39;, blink=None)</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory._set_visible_markers"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory._set_visible_markers">[docs]</a>    def _set_visible_markers(self, visible: bool) -&gt; None:
        &quot;&quot;&quot;Toggle the squares visibility.&quot;&quot;&quot;
        if hasattr(self, &#39;markers_r&#39;):
            right = [marker for marker, color in self.markers_r]
            left = [marker for marker, color in self.markers_l]
            for marker in right + left:
                if visible:
                    marker.style = {&#39;display&#39;: &#39;block&#39;}
                else:
                    marker.style = {&#39;display&#39;: &#39;none&#39;}</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.clear"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.clear">[docs]</a>    def clear(self) -&gt; None:
        &quot;&quot;&quot;Remove all elements from view.&quot;&quot;&quot;
        self._set_visible_markers(False)
        if hasattr(self, &#39;cue_placeholder&#39;):
            self.cue_placeholder.class_name = &#39;&#39;
        if hasattr(self, &#39;button_different&#39;):
            self.button_identical.style = {&#39;display&#39;: &#39;none&#39;}
            self.button_different.style = {&#39;display&#39;: &#39;none&#39;}</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.build_markers"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.build_markers">[docs]</a>    def build_markers(self, shapes: int) -&gt; None:
        &quot;&quot;&quot;Display the squares.
        &quot;&quot;&quot;
        size = w.get_value(&#39;size&#39;)
        distance = w.get_value(&#39;distance&#39;)

        points_r = get_points(shapes, distance, size)
        points_l = get_points(shapes, distance, size)

        colors = COLORS + COLORS
        random.shuffle(colors)

        for element in document.select(&#39;.bci-marker&#39;):
            element.remove()

        self.markers_r = []
        for i, point in enumerate(points_r):
            self.markers_r.append([html.DIV(&#39;&#39;, Class=&#39;bci-marker&#39;, id=f&#39;right_{i}&#39;, style={
                &#39;background-color&#39;: colors[i],
                &#39;width&#39;: u.dva(size),
                &#39;height&#39;: u.dva(size),
                &#39;left&#39;: f&#39;calc({u.dva(point[0])} - {u.dva(size, scale=0.5)})&#39;,
                &#39;top&#39;: f&#39;calc({u.dva(point[1])} - {u.dva(size, scale=0.5)})&#39;,
                &#39;position&#39;: &#39;absolute&#39;,
                &#39;display&#39;: &#39;none&#39;,
            }), colors[i]])
            document.select_one(
                &#39;.markers_r-placeholder&#39;) &lt;= self.markers_r[-1][0]

        self.markers_l = []
        for j, point in enumerate(points_l):
            self.markers_l.append([html.DIV(&#39;&#39;, Class=&#39;bci-marker&#39;, id=f&#39;left_{i}&#39;, style={
                &#39;background-color&#39;: colors[i + j + 1],
                &#39;width&#39;: u.dva(size),
                &#39;height&#39;: u.dva(size),
                &#39;left&#39;: f&#39;calc({u.dva(point[0])} - {u.dva(size, scale=0.5)})&#39;,
                &#39;top&#39;: f&#39;calc({u.dva(point[1])} - {u.dva(size, scale=0.5)})&#39;,
                &#39;position&#39;: &#39;absolute&#39;,
                &#39;display&#39;: &#39;none&#39;,
            }), colors[i + j + 1]])
            document.select_one(
                &#39;.markers_l-placeholder&#39;) &lt;= self.markers_l[-1][0]</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.prepare_shuffle"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.prepare_shuffle">[docs]</a>    def prepare_shuffle(self, cue: Literal[&#39;Right&#39;, &#39;Left&#39;], differences: int = 1) -&gt; None:
        &quot;&quot;&quot;Makes sure of changing the color of the squares.&quot;&quot;&quot;
        right = [color for marker, color in self.markers_r]
        left = [color for marker, color in self.markers_l]

        single = [s for s in (right + left) if (right + left).count(s) == 1]
        usable = list(set(COLORS) - set(right + left)) + single

        if cue == &#39;Right&#39;:
            original = right[:differences]
        elif cue == &#39;Left&#39;:
            original = left[:differences]

        mix = original + usable
        while [a == b for a, b in zip(original, mix[:differences])].count(True):
            random.shuffle(mix)

        self.shuffled_colors = mix[:differences]</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.synchronizer"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.synchronizer">[docs]</a>    def synchronizer(self, value: bool) -&gt; None:
        &quot;&quot;&quot;Show or hide synchronizer.&quot;&quot;&quot;
        if value:
            self.show_synchronizer(
                size=60, type_=&#39;square&#39;, position=&#39;upper left&#39;)
        else:
            self.hide_synchronizer()</div>

    # ----------------------------------------------------------------------
<div class="viewcode-block" id="VisuospatialWorkingMemory.build_squares_area"><a class="viewcode-back" href="../../../bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.html#bci_framework.default_extensions.Visuospatial_working_memory_Change_detection_task.main.VisuospatialWorkingMemory.build_squares_area">[docs]</a>    def build_squares_area(self) -&gt; None:
        &quot;&quot;&quot;Create a space to positioning the squares.&quot;&quot;&quot;
        if element := document.select_one(&#39;.markers_l-placeholder&#39;):
            element.remove()

        if element := document.select_one(&#39;.markers_r-placeholder&#39;):
            element.remove()

        self.stimuli_area &lt;= html.DIV(Class=&#39;markers_l-placeholder&#39;,
                                      style={
                                          &#39;width&#39;: u.dva(7.2),
                                          &#39;height&#39;: u.dva(13.15),
                                          &#39;margin-top&#39;: f&#39;calc(50vh - {u.dva(13.15, scale=0.5)})&#39;,
                                          &#39;margin-left&#39;: f&#39;calc(50% - {u.dva(7.2, scale=0.5)} - {u.dva(5.4)})&#39;,
                                          &#39;background-color&#39;: &#39;#818181&#39;,
                                          &#39;position&#39;: &#39;absolute&#39;,
                                          &#39;z-index&#39;: 10,
                                      })

        self.stimuli_area &lt;= html.DIV(Class=&#39;markers_r-placeholder&#39;,
                                      style={
                                          &#39;width&#39;: u.dva(7.2),
                                          &#39;height&#39;: u.dva(13.15),
                                          &#39;margin-top&#39;: f&#39;calc(50vh - {u.dva(13.15, scale=0.5)})&#39;,
                                          &#39;margin-left&#39;: f&#39;calc(50% - {u.dva(7.2, scale=0.5)} + {u.dva(5.4)})&#39;,
                                          &#39;background-color&#39;: &#39;#818181&#39;,
                                          &#39;position&#39;: &#39;absolute&#39;,
                                          &#39;z-index&#39;: 10,
                                      })</div></div>


if __name__ == &#39;__main__&#39;:
    VisuospatialWorkingMemory()


</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../index.html">
              <img class="logo" src="../../../../_static/logo.svg" alt="Logo"/>
            </a></p><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/01-installation.html">Installation and running</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/02-interface.html">Interface description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/03-data_analysis.html">Data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/04-data_visualizations.html">Data visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/06-stimuli_delivery.html">Stimuli delivery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/07-neurofeedback.html">Neurofeedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/08-event_marker_synchronization.html">Event marker synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/09-ilustrative_example.html">Illustrative example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks/10-paradigms.html">Paradigms</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021-2022, .
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>