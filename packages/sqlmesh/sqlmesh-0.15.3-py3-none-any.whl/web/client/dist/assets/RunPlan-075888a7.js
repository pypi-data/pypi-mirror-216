import{r as d,R as ue,n as Ne,o as $,u as D,p as De,q as Ce,i as F,d as _,s as w,t as z,j as a,g as N,B,v as Q,b as T,w as Ae,S as be,x as Fe,D as de,y as J,z as Me}from"./index-ad856934.js";import{I as ke}from"./Input-7dcd5857.js";import{M as O,C as Te}from"./ModalConfirmation-f1ac3b65.js";import{E as M}from"./context-98478dbe.js";import{F as Le,P as me}from"./PlanChangePreview-7e412ed7.js";import{o as j,S as fe,D as V,y as q,H as $e,c as ze,u as Ie,d as H,X as G,I as te,p as we,n as Oe,C as _e,l as W,h as Be,T as Qe,a as R,r as Ue,b as ee,_ as Ke,M as he,e as Re,f as He,$ as Pe}from"./transition-9219299b.js";import{s as Ve,k as pe}from"./popover-4cc4e19a.js";import"./dialog-f300575e.js";import"./editor-3fbec9d8.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./ModelLineage-ca35cb8c.js";import"./Graph-580ca9ed.js";import"./PlusIcon-8d70e023.js";import"./disclosure-690a567d.js";function qe({title:e,titleId:s,...r},t){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":s},r),e?d.createElement("title",{id:s},e):null,d.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"}))}const Ge=d.forwardRef(qe),Xe=Ge;function Ye(e){throw new Error("Unexpected object: "+e)}var S=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(S||{});function Je(e,s){let r=s.resolveItems();if(r.length<=0)return null;let t=s.resolveActiveIndex(),l=t??-1,o=(()=>{switch(e.focus){case 0:return r.findIndex(i=>!s.resolveDisabled(i));case 1:{let i=r.slice().reverse().findIndex((n,u,v)=>l!==-1&&v.length-u-1>=l?!1:!s.resolveDisabled(n));return i===-1?i:r.length-1-i}case 2:return r.findIndex((i,n)=>n<=l?!1:!s.resolveDisabled(i));case 3:{let i=r.slice().reverse().findIndex(n=>!s.resolveDisabled(n));return i===-1?i:r.length-1-i}case 4:return r.findIndex(i=>s.resolveId(i)===e.id);case 5:return null;default:Ye(e)}})();return o===-1?t:o}function ve(e){return[e.screenX,e.screenY]}function We(){let e=d.useRef([-1,-1]);return{wasMoved(s){let r=ve(s);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(s){e.current=ve(s)}}}let xe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ge(e){var s,r;let t=(s=e.innerText)!=null?s:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return t;let o=!1;for(let n of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))n.remove(),o=!0;let i=o?(r=l.innerText)!=null?r:"":t;return xe.test(i)&&(i=i.replace(xe,"")),i}function Ze(e){let s=e.getAttribute("aria-label");if(typeof s=="string")return s.trim();let r=e.getAttribute("aria-labelledby");if(r){let t=r.split(" ").map(l=>{let o=document.getElementById(l);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():ge(o).trim()}return null}).filter(Boolean);if(t.length>0)return t.join(", ")}return ge(e).trim()}function et(e){let s=d.useRef(""),r=d.useRef("");return j(()=>{let t=e.current;if(!t)return"";let l=t.innerText;if(s.current===l)return r.current;let o=Ze(t).trim().toLowerCase();return s.current=l,r.current=o,o})}var tt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tt||{}),nt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nt||{}),rt=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(rt||{});function Z(e,s=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,t=He(s(e.items.slice()),o=>o.dataRef.current.domRef.current),l=r?t.indexOf(r):null;return l===-1&&(l=null),{items:t,activeItemIndex:l}}let st={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},[2]:(e,s)=>{var r;let t=Z(e),l=Je(s,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeItemIndex:l,activationTrigger:(r=s.trigger)!=null?r:1}},[3]:(e,s)=>{let r=e.searchQuery!==""?0:1,t=e.searchQuery+s.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(i=>{var n;return((n=i.dataRef.current.textValue)==null?void 0:n.startsWith(t))&&!i.dataRef.current.disabled}),o=l?e.items.indexOf(l):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeItemIndex:o,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,s)=>{let r=Z(e,t=>[...t,{id:s.id,dataRef:s.dataRef}]);return{...e,...r}},[6]:(e,s)=>{let r=Z(e,t=>{let l=t.findIndex(o=>o.id===s.id);return l!==-1&&t.splice(l,1),t});return{...e,...r,activationTrigger:1}}},ne=d.createContext(null);ne.displayName="MenuContext";function X(e){let s=d.useContext(ne);if(s===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,X),r}return s}function at(e,s){return Ie(s.type,st,e,s)}let it=d.Fragment;function lt(e,s){let{__demoMode:r=!1,...t}=e,l=d.useReducer(at,{__demoMode:r,menuState:r?0:1,buttonRef:d.createRef(),itemsRef:d.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:i,buttonRef:n},u]=l,v=q(s);$e([n,i],(I,x)=>{var g;u({type:1}),Be(x,Qe.Loose)||(I.preventDefault(),(g=n.current)==null||g.focus())},o===0);let b=j(()=>{u({type:1})}),m=d.useMemo(()=>({open:o===0,close:b}),[o,b]),h={ref:v};return ue.createElement(ne.Provider,{value:l},ue.createElement(ze,{value:Ie(o,{[0]:H.Open,[1]:H.Closed})},G({ourProps:h,theirProps:t,slot:m,defaultTag:it,name:"Menu"})))}let ot="button";function ct(e,s){var r;let t=te(),{id:l=`headlessui-menu-button-${t}`,...o}=e,[i,n]=X("Menu.Button"),u=q(i.buttonRef,s),v=we(),b=j(g=>{switch(g.key){case R.Space:case R.Enter:case R.ArrowDown:g.preventDefault(),g.stopPropagation(),n({type:0}),v.nextFrame(()=>n({type:2,focus:S.First}));break;case R.ArrowUp:g.preventDefault(),g.stopPropagation(),n({type:0}),v.nextFrame(()=>n({type:2,focus:S.Last}));break}}),m=j(g=>{switch(g.key){case R.Space:g.preventDefault();break}}),h=j(g=>{if(Ue(g.currentTarget))return g.preventDefault();e.disabled||(i.menuState===0?(n({type:1}),v.nextFrame(()=>{var E;return(E=i.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(g.preventDefault(),n({type:0})))}),I=d.useMemo(()=>({open:i.menuState===0}),[i]),x={ref:u,id:l,type:Ve(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":e.disabled?void 0:i.menuState===0,onKeyDown:b,onKeyUp:m,onClick:h};return G({ourProps:x,theirProps:o,slot:I,defaultTag:ot,name:"Menu.Button"})}let ut="div",dt=fe.RenderStrategy|fe.Static;function mt(e,s){var r,t;let l=te(),{id:o=`headlessui-menu-items-${l}`,...i}=e,[n,u]=X("Menu.Items"),v=q(n.itemsRef,s),b=Oe(n.itemsRef),m=we(),h=_e(),I=(()=>h!==null?(h&H.Open)===H.Open:n.menuState===0)();d.useEffect(()=>{let c=n.itemsRef.current;c&&n.menuState===0&&c!==(b==null?void 0:b.activeElement)&&c.focus({preventScroll:!0})},[n.menuState,n.itemsRef,b]),Le({container:n.itemsRef.current,enabled:n.menuState===0,accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});let x=j(c=>{var C,P;switch(m.dispose(),c.key){case R.Space:if(n.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),u({type:3,value:c.key});case R.Enter:if(c.preventDefault(),c.stopPropagation(),u({type:1}),n.activeItemIndex!==null){let{dataRef:y}=n.items[n.activeItemIndex];(P=(C=y.current)==null?void 0:C.domRef.current)==null||P.click()}Re(n.buttonRef.current);break;case R.ArrowDown:return c.preventDefault(),c.stopPropagation(),u({type:2,focus:S.Next});case R.ArrowUp:return c.preventDefault(),c.stopPropagation(),u({type:2,focus:S.Previous});case R.Home:case R.PageUp:return c.preventDefault(),c.stopPropagation(),u({type:2,focus:S.First});case R.End:case R.PageDown:return c.preventDefault(),c.stopPropagation(),u({type:2,focus:S.Last});case R.Escape:c.preventDefault(),c.stopPropagation(),u({type:1}),ee().nextFrame(()=>{var y;return(y=n.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});break;case R.Tab:c.preventDefault(),c.stopPropagation(),u({type:1}),ee().nextFrame(()=>{Ke(n.buttonRef.current,c.shiftKey?he.Previous:he.Next)});break;default:c.key.length===1&&(u({type:3,value:c.key}),m.setTimeout(()=>u({type:4}),350));break}}),g=j(c=>{switch(c.key){case R.Space:c.preventDefault();break}}),E=d.useMemo(()=>({open:n.menuState===0}),[n]),k={"aria-activedescendant":n.activeItemIndex===null||(r=n.items[n.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(t=n.buttonRef.current)==null?void 0:t.id,id:o,onKeyDown:x,onKeyUp:g,role:"menu",tabIndex:0,ref:v};return G({ourProps:k,theirProps:i,slot:E,defaultTag:ut,features:dt,visible:I,name:"Menu.Items"})}let ft=d.Fragment;function ht(e,s){let r=te(),{id:t=`headlessui-menu-item-${r}`,disabled:l=!1,...o}=e,[i,n]=X("Menu.Item"),u=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===t:!1,v=d.useRef(null),b=q(s,v);W(()=>{if(i.__demoMode||i.menuState!==0||!u||i.activationTrigger===0)return;let y=ee();return y.requestAnimationFrame(()=>{var L,f;(f=(L=v.current)==null?void 0:L.scrollIntoView)==null||f.call(L,{block:"nearest"})}),y.dispose},[i.__demoMode,v,u,i.menuState,i.activationTrigger,i.activeItemIndex]);let m=et(v),h=d.useRef({disabled:l,domRef:v,get textValue(){return m()}});W(()=>{h.current.disabled=l},[h,l]),W(()=>(n({type:5,id:t,dataRef:h}),()=>n({type:6,id:t})),[h,t]);let I=j(()=>{n({type:1})}),x=j(y=>{if(l)return y.preventDefault();n({type:1}),Re(i.buttonRef.current)}),g=j(()=>{if(l)return n({type:2,focus:S.Nothing});n({type:2,focus:S.Specific,id:t})}),E=We(),k=j(y=>E.update(y)),c=j(y=>{E.wasMoved(y)&&(l||u||n({type:2,focus:S.Specific,id:t,trigger:0}))}),C=j(y=>{E.wasMoved(y)&&(l||u&&n({type:2,focus:S.Nothing}))}),P=d.useMemo(()=>({active:u,disabled:l,close:I}),[u,l,I]);return G({ourProps:{id:t,ref:b,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,disabled:void 0,onClick:x,onFocus:g,onPointerEnter:k,onMouseEnter:k,onPointerMove:c,onMouseMove:c,onPointerLeave:C,onMouseLeave:C},theirProps:o,slot:P,defaultTag:ft,name:"Menu.Item"})}let pt=V(lt),vt=V(ct),xt=V(mt),gt=V(ht),U=Object.assign(pt,{Button:vt,Items:xt,Item:gt});function kt(){const{errors:e,setIsPlanOpen:s}=Ne(),r=$(p=>p.state),t=$(p=>p.action),l=$(p=>p.setState),o=$(p=>p.setAction),i=$(p=>p.setActivePlan),n=D(p=>p.environment),u=D(p=>p.environments),v=D(p=>p.setInitialDates),b=D(p=>p.hasSynchronizedEnvironments),[m,h]=d.useState(!1),[I,x]=d.useState(!1),[g,E]=d.useState(),[k,c]=d.useState(!1),{refetch:C,data:P,isFetching:y}=De(n.name,{planOptions:{skip_tests:!0}}),L=d.useCallback(Ce(C,1e3,!0),[C]),f=d.useMemo(()=>n.isDefault?{headline:"Running Plan Directly On Prod Environment!",description:"Are you sure you want to run your changes directly on prod? Safer choice will be to select or add new environment first.",yesText:`Yes, Run ${n.name}`,noText:"No, Cancel",action(){Y()}}:void 0,[n]);d.useEffect(()=>{k&&(Y(),c(!1)),!F(n.isSynchronized)&&L()},[n]),d.useEffect(()=>{var p,A,se,ae,ie,le,oe,ce;P!=null&&(E(P),v(P.start,P.end),h([(p=P.changes)==null?void 0:p.added,(A=P.changes)==null?void 0:A.removed,(ae=(se=P.changes)==null?void 0:se.modified)==null?void 0:ae.direct,(le=(ie=P.changes)==null?void 0:ie.modified)==null?void 0:le.indirect,(ce=(oe=P.changes)==null?void 0:oe.modified)==null?void 0:ce.metadata].some(_)))},[P]);function Y(){i(void 0),l(w.Init),o(z.Run),s(!0)}const re=e.size>0,Se=F(n.isInitial)&&F(n.isDefault)||b(),Ee=F(n.isInitial)||F(n.isDefault);return a.jsxs("div",{className:N("flex items-center",n==null&&"opacity-50 pointer-events-none cursor-not-allowed"),children:[Se&&a.jsxs("div",{className:"flex items-center relative",children:[a.jsxs(B,{className:N("mx-0",F(n.isInitial&&n.isDefault)&&"rounded-none rounded-l-lg border-r"),disabled:re||y||t!==z.None||r===w.Applying||r===w.Running||r===w.Cancelling,variant:Q.Alternative,size:T.sm,onClick:p=>{p.stopPropagation(),n.isDefault&&F(n.isInitial)?x(!0):Y()},children:[Ae([w.Applying,w.Running,w.Cancelling],r)&&a.jsx(be,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"inline-block",children:r===w.Running?"Running Plan...":r===w.Applying?"Applying Plan...":r===w.Cancelling?"Cancelling Plan...":t!==z.None?"Setting Plan...":"Run Plan"})]}),Ee&&a.jsx(ye,{className:"rounded-none rounded-r-lg border-l mx-0",environment:n,disabled:re||y||t!==z.None||r===w.Applying||r===w.Running||r===w.Cancelling})]}),r!==w.Applying&&a.jsx(yt,{environment:n,plan:g,isLoading:y,hasChanges:m}),a.jsxs(O,{show:I,onClose:()=>{},children:[a.jsxs(O.Main,{children:[(f==null?void 0:f.headline)!=null&&a.jsx(O.Headline,{children:f==null?void 0:f.headline}),(f==null?void 0:f.description)!=null&&a.jsx(O.Description,{children:f==null?void 0:f.description}),a.jsxs("div",{className:"mt-5 pt-4",children:[a.jsx("h4",{className:"mb-2",children:`${u.size>1?"Select or ":""}Add Environment`}),a.jsxs("div",{className:"flex items-center relative",children:[u.size>1&&a.jsx(ye,{className:"mr-2",side:"left",environment:n,showAddEnvironemnt:!1,onSelect:()=>{c(!0),x(!1)},size:T.md,disabled:y||t!==z.None||r===w.Applying||r===w.Cancelling}),a.jsx(je,{className:"w-full",size:T.md,onAdd:()=>{c(!0),x(!1)}})]})]})]}),a.jsxs(O.Actions,{children:[a.jsx(B,{className:"font-bold",size:"md",variant:Q.Primary,onClick:p=>{var A;p.stopPropagation(),(A=f==null?void 0:f.action)==null||A.call(f),x(!1)},children:(f==null?void 0:f.yesText)??"Confirm"}),a.jsx(B,{size:"md",variant:Q.Neutral,onClick:p=>{var A;p.stopPropagation(),(A=f==null?void 0:f.cancel)==null||A.call(f),x(!1)},children:(f==null?void 0:f.noText)??"Cancel"})]})]})]})}function yt({isLoading:e,hasChanges:s,environment:r,plan:t}){var l,o,i,n,u,v,b,m,h,I;return a.jsx("span",{className:"flex align-center h-full w-full",children:a.jsxs(a.Fragment,{children:[r.isInitial&&r.isLocal&&a.jsx("span",{title:"New",className:"block ml-1 px-2 first-child:ml-0 rounded-full bg-success-10 text-success-500 text-xs text-center font-bold",children:"New"}),e&&a.jsxs("span",{className:"flex items-center ml-2",children:[a.jsx(be,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"inline-block text-xs text-neutral-500",children:"Checking..."})]}),[s,e,r.isLocal].every(F)&&a.jsx("span",{title:"Latest",className:"block ml-1 px-2 first-child:ml-0 rounded-full bg-neutral-10 text-xs text-center",children:a.jsx("span",{children:"Latest"})}),((l=t==null?void 0:t.changes)==null?void 0:l.added)!=null&&_((o=t==null?void 0:t.changes)==null?void 0:o.added)&&a.jsx(K,{headline:"Added Models",type:M.Add,changes:t.changes.added}),((n=(i=t==null?void 0:t.changes)==null?void 0:i.modified)==null?void 0:n.direct)!=null&&_((u=t==null?void 0:t.changes)==null?void 0:u.modified.direct)&&a.jsx(K,{headline:"Direct Changes",type:M.Direct,changes:t.changes.modified.direct.map(({model_name:x})=>x)}),((b=(v=t==null?void 0:t.changes)==null?void 0:v.modified)==null?void 0:b.indirect)!=null&&_((m=t==null?void 0:t.changes)==null?void 0:m.modified.indirect)&&a.jsx(K,{headline:"Indirectly Modified",type:M.Indirect,changes:t.changes.modified.indirect.map(x=>x.model_name)}),((h=t==null?void 0:t.changes)==null?void 0:h.removed)!=null&&_((I=t==null?void 0:t.changes)==null?void 0:I.removed)&&a.jsx(K,{headline:"Removed Models",type:M.Remove,changes:t.changes.removed})]})})}function ye({onSelect:e,environment:s,disabled:r,side:t=J.Right,className:l,showAddEnvironemnt:o=!0,size:i=T.sm}){const n=D(m=>m.environments),u=D(m=>m.setEnvironment),v=D(m=>m.removeLocalEnvironment),b=Fe(U.Button);return a.jsx(U,{children:({close:m})=>a.jsxs(a.Fragment,{children:[a.jsxs(b,{variant:Q.Alternative,size:i,disabled:r,className:N(l),children:[a.jsx("span",{className:N("block overflow-hidden truncate",(s.isLocal||r)&&"text-neutral-500",s.isSynchronized&&"text-primary-500"),children:s.name}),a.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-2",children:a.jsx(Xe,{className:"h-4 w-4","aria-hidden":"true"})})]}),a.jsx(Pe,{as:d.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsxs("div",{className:N("absolute top-9 overflow-hidden shadow-xl bg-theme border-2 border-primary-20 rounded-md flex flex-col z-10",t===J.Left&&"left-0",t===J.Right&&"right-0"),children:[a.jsxs(U.Items,{className:"overflow-auto max-h-80 py-2 scrollbar scrollbar--vertical",children:[Array.from(n).map(h=>a.jsx(U.Item,{children:({active:I})=>a.jsxs("div",{onClick:x=>{x.stopPropagation(),u(h),e==null||e()},className:N("flex justify-between items-center px-4 py-1 cursor-pointer overflow-auto",I&&"bg-primary-10",h===s&&"pointer-events-none cursor-default bg-secondary-10"),children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(Te,{className:N("w-4 h-4 text-primary-500 mt-1",I&&"opacity-10",h!==s&&"opacity-0")}),a.jsxs("span",{className:"block",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:N("block truncate ml-2",h.isSynchronized&&"text-primary-500"),children:h.name}),a.jsxs("small",{className:"block ml-2",children:["(",h.type,")"]})]}),h.isDefault&&a.jsx("span",{className:"flex ml-2",children:a.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),h.isLocal&&h!==s&&a.jsx(B,{className:"my-0 mx-0",size:T.xs,variant:Q.Neutral,onClick:x=>{x.stopPropagation(),v(h)},children:"-"})]})},h.name)),o&&a.jsxs(a.Fragment,{children:[a.jsx(de,{}),a.jsx(je,{onAdd:m,className:"mt-2 px-2"})]})]}),a.jsx(de,{})]})})]})})}function je({onAdd:e,className:s,label:r="Add",size:t=T.sm}){const l=D(m=>m.getNextEnvironment),o=D(m=>m.isExistingEnvironment),i=D(m=>m.addLocalEnvironment),[n,u]=d.useState(""),[v,b]=d.useState(l().name);return a.jsxs("div",{className:N("flex w-full items-center",s),children:[a.jsx(ke,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:t,placeholder:"Environment",value:n,onInput:m=>{m.stopPropagation(),u(m.target.value)}}),a.jsx(B,{className:"my-0 mx-0 font-bold",size:t,disabled:Me(n)||o(n),onClick:m=>{m.stopPropagation(),i(n,v),u(""),b(l().name),e==null||e()},children:r})]})}function K({headline:e,type:s,changes:r}){const[t,l]=d.useState(!1);return a.jsx(pe,{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},className:"relative flex",children:()=>a.jsxs(a.Fragment,{children:[a.jsx("span",{className:N("inline-block ml-1 px-2 rounded-full text-xs font-bold text-neutral-100 cursor-default border border-inherit",s===M.Add&&"bg-success-500 border-success-500",s===M.Remove&&"bg-danger-500 border-danger-500",s===M.Direct&&"bg-secondary-500 border-secondary-500",s===M.Indirect&&"bg-warning-500 border-warning-500",s==="metadata"&&"bg-neutral-500 border-neutral-500"),children:r.length}),a.jsx(Pe,{show:t,as:d.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:a.jsx(pe.Panel,{className:"absolute right-1 z-10 mt-8 transform flex p-2 bg-theme-lighter shadow-xl focus:ring-2 ring-opacity-5 rounded-lg ",children:a.jsx(me,{headline:e,type:s,className:"w-full h-full max-h-[40vh] overflow-hidden overflow-y-auto ",children:a.jsx(me.Default,{type:s,changes:r})})})})]})})}export{kt as default};
