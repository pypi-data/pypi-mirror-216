{% load static %}
{% load i18n %}

{# 语言切换 button, 依赖 font awesome 5 & bulma css #}

<script>
    function selectLanguageOnClicked(div) {
        if (div.classList.contains("is-active")) {
            div.classList.remove('is-active')
        } else {
            div.classList.add('is-active')
        }
    }
</script>
<div class="dropdown" onclick="selectLanguageOnClicked(this)">
    <div class="dropdown-trigger">
        <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
            <span class="icon is-small"><i class="fas fa-language" aria-hidden="true"></i></span>
            <span>{% translate "Select Language" %}</span>
        </button>
    </div>
    <div class="dropdown-menu" id="dropdown-menu" role="menu">
        <div class="dropdown-content">
            {% get_available_languages as languages %}

            {% for lang in languages %}
                <a href="{% url "language" language=lang.0 %}" class="dropdown-item">
                    {{ lang.0 | language_name_local }}
                </a>
            {% endfor %}
        </div>
    </div>
</div>
